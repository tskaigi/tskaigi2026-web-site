import { readdirSync, writeFileSync } from "node:fs";
import { join } from "node:path";

const root = process.cwd();
const staffDir = join(root, "src/constants/staff");
const outputPath = join(root, "src/constants/staff.generated.ts");

const files = readdirSync(staffDir)
  .filter((file) => file.endsWith(".json"))
  .sort((a, b) => a.localeCompare(b, "en"));

const imports = files
  .map((file, index) => `import staff${index} from "./staff/${file}";`)
  .join("\n");

const listItems = files.map((_, index) => `  staff${index},`).join("\n");

const content = `// Auto-generated by scripts/generate-staff-list.mjs. Do not edit manually.
${imports}

export const staffListData = [
${listItems}
];
`;

writeFileSync(outputPath, content, "utf8");
console.log(`Generated: ${outputPath}`);
